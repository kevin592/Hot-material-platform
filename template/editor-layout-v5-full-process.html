<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIåˆ›ä½œç¼–è¾‘å™¨ V5 - å®Œæ•´åˆ›ä½œæµç¨‹å¯è§†åŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1677ff;
            --bg-color: #fafbfc;
            --sidebar-bg: #fff;
            --border-color: #e8e8e8;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --text-tertiary: #9ca3af;
            --hover-bg: #f3f4f6;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --success-color: #52c41a;
            --warning-color: #faad14;
            --process-color: #1677ff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: var(--bg-color);
            overflow: hidden;
            color: var(--text-primary);
        }

        /* ============ é¡¶éƒ¨å·¥å…·æ  ============ */
        .top-bar {
            height: 56px;
            background: var(--sidebar-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            z-index: 50;
        }

        .top-bar-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ============ å·¦ä¾§å†å²é¢æ¿ ============ */
        .history-sidebar {
            width: 260px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .history-sidebar.collapsed {
            transform: translateX(-100%);
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 40;
        }

        .history-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .new-btn {
            width: 100%;
            padding: 10px;
            background: var(--primary-color);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .new-btn:hover {
            background: #4096ff;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .search-box {
            margin-top: 12px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 8px 12px 8px 36px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 13px;
            outline: none;
            transition: all 0.2s;
            background: var(--bg-color);
        }

        .search-input:focus {
            border-color: var(--primary-color);
            background: var(--sidebar-bg);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 14px;
        }

        .history-list {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }

        .history-item {
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 4px;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .history-item:hover {
            background: var(--hover-bg);
        }

        .history-item.active {
            background: #e6f4ff;
            border-color: var(--primary-color);
        }

        .history-title {
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 6px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            font-weight: 500;
        }

        .history-meta {
            font-size: 12px;
            color: var(--text-tertiary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .top-bar-center {
            flex: 1;
            max-width: 600px;
            margin: 0 40px;
        }

        .title-input {
            width: 100%;
            border: none;
            outline: none;
            font-size: 16px;
            font-weight: 600;
            background: transparent;
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            transition: background 0.2s;
        }

        .title-input:hover {
            background: var(--hover-bg);
        }

        .title-input:focus {
            background: var(--hover-bg);
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--sidebar-bg);
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
            transform: translateY(-1px);
            box-shadow: var(--shadow-sm);
        }

        .btn-primary {
            background: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background: #4096ff;
            color: #fff;
        }

        .icon-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.2s;
            color: var(--text-secondary);
        }

        .icon-btn:hover {
            background: var(--hover-bg);
            color: var(--text-primary);
        }

        /* ============ ä¸»å®¹å™¨ ============ */
        .main-container {
            display: flex;
            height: calc(100vh - 56px);
            position: relative;
        }

        /* ============ å·¦ä¾§æµç¨‹é¢æ¿ ============ */
        .process-sidebar {
            width: 320px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .process-sidebar.collapsed {
            transform: translateX(-100%);
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 40;
        }

        .process-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .process-header h3 {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .process-status {
            color: rgba(255, 255, 255, 0.9);
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .process-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #52c41a;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .process-list {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .process-step {
            margin-bottom: 12px;
            border-radius: 8px;
            border: 2px solid var(--border-color);
            background: var(--sidebar-bg);
            transition: all 0.3s;
            cursor: pointer;
        }

        .process-step:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-sm);
        }

        .process-step.completed {
            border-color: var(--success-color);
            background: #f6ffed;
        }

        .process-step.active {
            border-color: var(--process-color);
            background: #e6f4ff;
            box-shadow: 0 0 0 3px rgba(22, 119, 255, 0.1);
        }

        .process-step.pending {
            opacity: 0.6;
        }

        .process-step-header {
            padding: 12px 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .process-step-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .process-step-content {
            flex: 1;
        }

        .process-step-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .process-step-desc {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .process-step-status {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 500;
        }

        .process-step-status.completed {
            background: #f6ffed;
            color: var(--success-color);
        }

        .process-step-status.active {
            background: #e6f4ff;
            color: var(--process-color);
        }

        .process-step-status.pending {
            background: #f5f5f5;
            color: var(--text-tertiary);
        }

        .process-step-body {
            padding: 0 14px 12px 14px;
            display: none;
            border-top: 1px solid var(--border-color);
            margin-top: 8px;
            padding-top: 12px;
        }

        .process-step.expanded .process-step-body {
            display: block;
        }

        .process-step-preview {
            background: #fafafa;
            padding: 10px;
            border-radius: 6px;
            font-size: 12px;
            line-height: 1.6;
            color: var(--text-secondary);
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .process-action-bar {
            padding: 12px 16px;
            border-top: 1px solid var(--border-color);
            background: #fafafa;
        }

        .process-start-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .process-start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .process-start-btn:disabled {
            background: #d9d9d9;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ============ ç¼–è¾‘å™¨åŒºåŸŸ ============ */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--sidebar-bg);
            position: relative;
            overflow: hidden;
        }

        .editor-toolbar {
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
            background: #fafafa;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .editor-toolbar-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .editor-toolbar-title {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .editor-toolbar-status {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
            background: #e6f4ff;
            color: var(--primary-color);
            font-weight: 500;
        }

        .editor-content {
            flex: 1;
            padding: 60px 80px;
            overflow-y: auto;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .editor-textarea {
            width: 100%;
            min-height: calc(100vh - 300px);
            border: none;
            outline: none;
            font-size: 16px;
            line-height: 1.8;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Cascadia Code', monospace;
            resize: none;
            color: var(--text-primary);
            background: transparent;
        }

        .editor-textarea::placeholder {
            color: var(--text-tertiary);
        }

        /* ç¼–è¾‘å™¨ç©ºçŠ¶æ€ */
        .editor-empty-state {
            text-align: center;
            padding: 100px 40px;
            color: var(--text-tertiary);
        }

        .editor-empty-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .editor-empty-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .editor-empty-desc {
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-tertiary);
            max-width: 400px;
            margin: 0 auto;
        }

        /* ============ å³ä¾§é¢„è§ˆé¢æ¿ ============ */
        .preview-panel {
            width: 420px;
            background: #f8f9fa;
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            position: relative;
        }

        .preview-panel.collapsed {
            transform: translateX(100%);
        }

        .preview-header {
            padding: 16px 20px;
            background: var(--sidebar-bg);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .preview-header h3 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .preview-container {
            flex: 1;
            overflow-y: auto;
            display: flex;
            justify-content: center;
            padding: 40px 20px;
        }

        .preview-phone {
            width: 375px;
            background: var(--sidebar-bg);
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            min-height: 600px;
        }

        .preview-content {
            padding: 24px 20px;
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-primary);
        }

        .preview-content h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.4;
            color: #1a1a1a;
        }

        .preview-content h2 {
            font-size: 20px;
            font-weight: 600;
            margin: 24px 0 12px;
            color: #2a2a2a;
        }

        .preview-content p {
            margin-bottom: 16px;
            color: #3a3a3a;
        }

        .preview-content strong {
            font-weight: 600;
            color: #1a1a1a;
        }

        /* ============ åŠ è½½é®ç½© ============ */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 4px solid #f0f0f0;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 16px;
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 8px;
        }

        .loading-desc {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* ============ æ»šåŠ¨æ¡ ============ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å·¥å…·æ  -->
    <div class="top-bar">
        <div class="top-bar-left">
            <div class="logo">
                <span>âœ¨</span>
                <span>AIåˆ›ä½œåŠ©æ‰‹</span>
            </div>
            <button class="icon-btn" onclick="toggleHistory()" title="å†å²è®°å½•">
                <span>ğŸ“</span>
            </button>
            <button class="icon-btn" onclick="toggleProcess()" title="åˆ›ä½œæµç¨‹">
                <span>ğŸ“‹</span>
            </button>
        </div>
        <div class="top-bar-center">
            <input type="text" class="title-input" placeholder="æ— æ ‡é¢˜" value="ä¸­ç¾å°†ä¸¾è¡Œæ–°ä¸€è½®ç»è´¸ç£‹å•†">
        </div>
        <div class="top-bar-right">
            <select class="btn" style="border: none; padding: 8px 12px;">
                <option>ç»å…¸ä¸»é¢˜</option>
                <option>ä¼˜é›…ä¸»é¢˜</option>
                <option>ç®€æ´ä¸»é¢˜</option>
            </select>
            <button class="btn btn-primary">
                <span>ğŸ“‹</span>
                <span>å¤åˆ¶</span>
            </button>
            <button class="btn">
                <span>ğŸ’¾</span>
                <span>ä¿å­˜</span>
            </button>
            <button class="icon-btn" onclick="togglePreview()" title="é¢„è§ˆ">
                <span>ğŸ“±</span>
            </button>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- å·¦ä¾§å†å²é¢æ¿ -->
        <div class="history-sidebar" id="historySidebar">
            <div class="history-header">
                <button class="new-btn">
                    <span>â•</span>
                    <span>æ–°å»ºåˆ›ä½œ</span>
                </button>
                <div class="search-box">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" class="search-input" placeholder="æœç´¢...">
                </div>
            </div>
            <div class="history-list">
                <div class="history-item active">
                    <div class="history-title">ä¸­ç¾å°†ä¸¾è¡Œæ–°ä¸€è½®ç»è´¸ç£‹å•†</div>
                    <div class="history-meta">
                        <span>ä»Šå¤© 14:30</span>
                        <span>â€¢</span>
                        <span>2450å­—</span>
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-title">2025å¤®è§†ä¸»æŒäººå¤§èµ›é»‘é©¬</div>
                    <div class="history-meta">
                        <span>æ˜¨å¤© 10:15</span>
                        <span>â€¢</span>
                        <span>890å­—</span>
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-title">æ—¥æœ¬é«˜è§„æ ¼è¿æ¥ç‰¹æœ—æ™®</div>
                    <div class="history-meta">
                        <span>3æœˆ25æ—¥</span>
                        <span>â€¢</span>
                        <span>1024å­—</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸­é—´æµç¨‹é¢æ¿ -->
        <div class="process-sidebar" id="processSidebar">
            <div class="process-header">
                <h3>ğŸ¤– AIåˆ›ä½œæµç¨‹</h3>
                <div class="process-status">
                    <span class="process-status-dot"></span>
                    <span id="processStatusText">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹åˆ›ä½œ</span>
                </div>
            </div>

            <div class="process-list">
                <!-- æ­¥éª¤0: ç´ ææœç´¢ -->
                <div class="process-step pending" id="step0" onclick="toggleStep(0)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ”</span>
                        <div class="process-step-content">
                            <div class="process-step-title">çƒ­ç‚¹ç´ ææœç´¢</div>
                            <div class="process-step-desc">Coze APIæ·±åº¦è°ƒç ”</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤1: é€‰é¢˜åˆ†æ -->
                <div class="process-step pending" id="step1" onclick="toggleStep(1)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ¯</span>
                        <div class="process-step-content">
                            <div class="process-step-title">é€‰é¢˜åˆ†æ</div>
                            <div class="process-step-desc">TopicAnalyzer</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤2: ç´ ææ”¶é›† -->
                <div class="process-step pending" id="step2" onclick="toggleStep(2)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ“š</span>
                        <div class="process-step-content">
                            <div class="process-step-title">æ·±åº¦ç´ ææ”¶é›†</div>
                            <div class="process-step-desc">MaterialHunter</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤3: è§‚ç‚¹ç­–ç•¥ -->
                <div class="process-step pending" id="step3" onclick="toggleStep(3)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ’¡</span>
                        <div class="process-step-content">
                            <div class="process-step-title">è§‚ç‚¹ç­–ç•¥è®¾è®¡</div>
                            <div class="process-step-desc">ViewpointStrategist</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤4: å¡ç‰‡åˆ›ä½œ -->
                <div class="process-step pending" id="step4" onclick="toggleStep(4)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ´</span>
                        <div class="process-step-content">
                            <div class="process-step-title">è§‚ç‚¹å¡ç‰‡åˆ›ä½œ</div>
                            <div class="process-step-desc">CardCreator</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤5: é£æ ¼å…‹éš† -->
                <div class="process-step pending" id="step5" onclick="toggleStep(5)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ¨</span>
                        <div class="process-step-content">
                            <div class="process-step-title">é£æ ¼å…‹éš†</div>
                            <div class="process-step-desc">StyleCloner</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>

                <!-- æ­¥éª¤6: æ–‡ç« ç»„è£… -->
                <div class="process-step pending" id="step6" onclick="toggleStep(6)">
                    <div class="process-step-header">
                        <span class="process-step-icon">ğŸ“</span>
                        <div class="process-step-content">
                            <div class="process-step-title">æ–‡ç« ç»„è£…</div>
                            <div class="process-step-desc">ArticleWeaver</div>
                        </div>
                        <span class="process-step-status pending">ç­‰å¾…ä¸­</span>
                    </div>
                    <div class="process-step-body">
                        <div class="process-step-preview">æš‚æ— å†…å®¹</div>
                    </div>
                </div>
            </div>

            <div class="process-action-bar">
                <button class="process-start-btn" id="startBtn" onclick="startCreation()">
                    <span>âœ¨</span>
                    <span>å¼€å§‹AIåˆ›ä½œ</span>
                </button>
            </div>
        </div>

        <!-- ç¼–è¾‘å™¨ -->
        <div class="editor-area">
            <div class="editor-toolbar">
                <div class="editor-toolbar-left">
                    <span class="editor-toolbar-title">æœ€ç»ˆæ–‡ç« </span>
                    <span class="editor-toolbar-status" id="editorStatus">ç­‰å¾…åˆ›ä½œ</span>
                </div>
            </div>

            <div class="editor-content">
                <!-- ç©ºçŠ¶æ€ -->
                <div class="editor-empty-state" id="editorEmpty">
                    <div class="editor-empty-icon">âœï¸</div>
                    <div class="editor-empty-title">ç­‰å¾…AIåˆ›ä½œ</div>
                    <div class="editor-empty-desc">
                        ç‚¹å‡»å·¦ä¾§"å¼€å§‹AIåˆ›ä½œ"æŒ‰é’®<br>
                        AIå°†è‡ªåŠ¨å®Œæˆæ‰€æœ‰åˆ›ä½œæ­¥éª¤<br>
                        æœ€ç»ˆæ–‡ç« å°†å±•ç¤ºåœ¨è¿™é‡Œ
                    </div>
                </div>

                <!-- ç¼–è¾‘å™¨ -->
                <textarea class="editor-textarea" id="editor" style="display: none;" placeholder="AIæ­£åœ¨åˆ›ä½œä¸­..."></textarea>
            </div>

            <!-- åŠ è½½é®ç½© -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-text" id="loadingText">æ­£åœ¨åˆå§‹åŒ–...</div>
                    <div class="loading-desc" id="loadingDesc">è¯·ç¨å€™</div>
                </div>
            </div>
        </div>

        <!-- é¢„è§ˆé¢æ¿ -->
        <div class="preview-panel" id="previewPanel">
            <div class="preview-header">
                <h3>ğŸ“± æ‰‹æœºé¢„è§ˆ</h3>
                <span style="font-size: 12px; color: var(--text-tertiary);">375px</span>
            </div>
            <div class="preview-container">
                <div class="preview-phone">
                    <div class="preview-content" id="preview">
                        <p style="text-align: center; color: #999; padding: 100px 20px;">ç­‰å¾…å†…å®¹ç”Ÿæˆ...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€çŠ¶æ€
        let historyVisible = true;
        let processVisible = true;
        let previewVisible = true;
        let currentStep = -1;
        let isCreating = false;

        // åˆ‡æ¢å†å²é¢æ¿
        function toggleHistory() {
            historyVisible = !historyVisible;
            const sidebar = document.getElementById('historySidebar');
            if (historyVisible) {
                sidebar.classList.remove('collapsed');
            } else {
                sidebar.classList.add('collapsed');
            }
        }

        // åˆ‡æ¢æµç¨‹é¢æ¿
        function toggleProcess() {
            processVisible = !processVisible;
            const sidebar = document.getElementById('processSidebar');
            if (processVisible) {
                sidebar.classList.remove('collapsed');
            } else {
                sidebar.classList.add('collapsed');
            }
        }

        // æ¨¡æ‹Ÿæ•°æ®
        const mockData = {
            step0: {
                title: "çƒ­ç‚¹ç´ æåŒ…",
                content: `æ ¸å¿ƒäº‹ä»¶: ä¸­ç¾åŒæ–¹å®£å¸ƒå°†äº2025å¹´1æœˆä¸¾è¡Œæ–°ä¸€è½®ç»è´¸ç£‹å•†

äº‹ä»¶ç±»å‹: å†å²é€»è¾‘ä¸å¿…ç„¶è¶‹åŠ¿

çƒ­ç‚¹æ•°æ®:
- å¾®åšçƒ­æœ: æ’åç¬¬3ä½ï¼Œé˜…è¯»é‡2.8äº¿
- ä¸»æµæƒ…ç»ª: ç†æ€§è§‚æœ›(45%) > è°¨æ…ä¹è§‚(35%)

ç½‘å‹æ ¸å¿ƒè§‚ç‚¹:
- "è°ˆåˆ¤æ¡Œä¸Šçš„ç­¹ç æ¥è‡ªå®åŠ›"(60%)
- "ä¸­å›½å·²ä¸æ˜¯40å¹´å‰çš„ä¸­å›½"(75%)

å†å²å¯¹æ¯”æ¡ˆä¾‹:
- æœé²œæˆ˜äº‰è°ˆåˆ¤: æˆ˜åœºå†³å®šè°ˆåˆ¤æ¡Œ...`
            },
            step1: {
                title: "é€‰é¢˜ç­–ç•¥",
                content: `è¯é¢˜æ ¸å¿ƒ: ä¸­ç¾ç»è´¸ç£‹å•†

æ‰¹åˆ¤è§’åº¦: å†å²é€»è¾‘ä¸å¿…ç„¶è¶‹åŠ¿(ä¸»)

è®ºè¯å¥—è·¯: å†å²æ•°æ®å¯¹æ¯”å¼

çŠ€åˆ©åº¦ç›®æ ‡: 7.5-8.0åˆ†

æ¨èå†å²æ–‡ç« :
1. ã€Šé˜¿å¯Œæ±—æˆ˜èƒœäº†ç¾å›½ã€‹- ç›¸ä¼¼åº¦92%
2. ã€Šæœé²œæˆ˜äº‰çš„å¯ç¤ºã€‹- ç›¸ä¼¼åº¦88%`
            },
            step2: {
                title: "ç´ ææ±‡æ€»",
                content: `æ·±åº¦æ•°æ®æ”¶é›†å®Œæˆ:

çƒ­ç‚¹åˆ†æ:
- è§¦åŠ¨ç¤¾ä¼šç—›ç‚¹: å›½å®¶å®åŠ›ä¸è°ˆåˆ¤åœ°ä½
- èˆ†è®ºé£å‘: æ”¯æŒ65% vs è§‚æœ›30%

å†å²æ¡ˆä¾‹æ•°æ®:
- æœé²œæˆ˜äº‰è°ˆåˆ¤: æ¨è¿›367å…¬é‡Œï¼Œæ­¼æ•Œ82ä¸‡
- 1993é“¶æ²³å·äº‹ä»¶: å±ˆè¾±æ£€æŸ¥
- 2016å—æµ·å¯¹å³™: ç¾å›½èˆªæ¯æ’¤ç¦»

æ‰¹åˆ¤åˆ‡å…¥ç‚¹:
- çŸ›ç›¾ç‚¹: å®åŠ›æ‚¬æ®Šçš„è°ˆåˆ¤ç»“æœ
- å…±é¸£ç‚¹: å†å²é“å¾‹çš„åå¤éªŒè¯`
            },
            step3: {
                title: "è§‚ç‚¹ç»“æ„",
                content: `æ ¸å¿ƒè§‚ç‚¹: å®åŠ›å†³å®šè°ˆåˆ¤åœ°ä½ï¼Œè¿™æ˜¯å†å²é“å¾‹

è®ºè¯ç»“æ„:
1. å¼•å…¥æ®µ: ä¸­ç¾ç£‹å•†æ¶ˆæ¯å¼•å‘çƒ­è®®
2. åˆ†è®ºç‚¹1: æœé²œæˆ˜äº‰è°ˆåˆ¤æ¡ˆä¾‹
3. åˆ†è®ºç‚¹2: é“¶æ²³å·vså—æµ·å¯¹å³™å¯¹æ¯”
4. åˆ†è®ºç‚¹3(é«˜æ½®): ä»Šå¤©ä¸­å›½çš„å®åŠ›åº•æ°”
5. ç»“å°¾æ®µ: å‡åä¸»é¢˜

é¢„æœŸçŠ€åˆ©åº¦: 7.8åˆ†`
            },
            step4: {
                title: "è§‚ç‚¹å¡ç‰‡",
                content: `å·²åˆ›ä½œå¡ç‰‡:
- intro.md (å¼•å…¥æ®µ)
- argument_1.md (æœé²œæˆ˜äº‰æ¡ˆä¾‹)
- argument_2.md (20å¹´å¯¹æ¯”)
- argument_3.md (å®åŠ›åº•æ°”)
- conclusion.md (ç»“å°¾å‡å)

æ€»å­—æ•°: 2450å­—`
            },
            step5: {
                title: "é£æ ¼æ£€æŸ¥æŠ¥å‘Š",
                content: `é£æ ¼ç›¸ä¼¼åº¦æ£€æŸ¥:
- intro.md: 94%
- argument_1.md: 92%
- argument_2.md: 95%
- argument_3.md: 93%
- conclusion.md: 96%

æ•´ä½“ç›¸ä¼¼åº¦: 94%
é£æ ¼ä¸€è‡´æ€§: âœ… ä¼˜ç§€`
            },
            step6: {
                title: "æœ€ç»ˆæ–‡ç« ",
                content: `# è°ˆåˆ¤æ¡Œä¸Šæ‹¿ä¸åˆ°çš„ä¸œè¥¿ï¼Œæˆ˜åœºä¸Šä¹Ÿæ‹¿ä¸åˆ°

**æ‘˜è¦:** å®åŠ›å†³å®šè°ˆåˆ¤åœ°ä½ï¼Œè¿™æ˜¯å†å²é“å¾‹

æœ€è¿‘ï¼Œä¸­ç¾åŒæ–¹å®£å¸ƒå°†ä¸¾è¡Œæ–°ä¸€è½®ç»è´¸ç£‹å•†ã€‚

æ¶ˆæ¯ä¸€å‡ºï¼Œç½‘ä¸Šåˆæ˜¯ä¸€ç‰‡çƒ­è®®ã€‚

æœ‰äººè¯´è¿™æ˜¯å¥½äº‹ï¼Œè¯´æ˜åŒæ–¹éƒ½æœ‰è¯šæ„ã€‚æœ‰äººè¯´è¦ä¿æŒè­¦æƒ•ï¼Œç¾å›½ä»æ¥ä¸ä¼šè½»æ˜“è®©æ­¥ã€‚

é‚£åˆ°åº•è¯¥æ€ä¹ˆçœ‹å¾…è¿™æ¬¡ç£‹å•†ï¼Ÿ

1

æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå†å²æ¡ˆä¾‹ã€‚

1950å¹´ï¼Œæœé²œæˆ˜äº‰çˆ†å‘ã€‚

ç¾å†›ä»ä»å·ç™»é™†ï¼Œä¸€è·¯åŒ—è¿›ï¼Œæ‰“åˆ°é¸­ç»¿æ±Ÿè¾¹ã€‚éº¦å…‹é˜¿ç‘Ÿç‹‚è¨€ï¼š"åœ£è¯èŠ‚å‰ç»“æŸæˆ˜äº‰"ã€‚

ä½†ä¸­å›½äººæ°‘å¿—æ„¿å†›å…¥æœä½œæˆ˜åï¼Œæˆ˜åœºå½¢åŠ¿é€†è½¬ã€‚

ç¬¬ä¸€æ¬¡æˆ˜å½¹ï¼Œå¿—æ„¿å†›æ­¼æ•Œ1.5ä¸‡ã€‚ç¬¬äºŒæ¬¡æˆ˜å½¹ï¼Œæ­¼æ•Œ3.6ä¸‡ï¼ŒæŠŠç¾å†›èµ¶å›ä¸‰å…«çº¿ä»¥å—ã€‚

è¿™æ—¶å€™ï¼Œç¾å›½å¼€å§‹è°ˆåˆ¤äº†ã€‚

1951å¹´7æœˆï¼Œåœæˆ˜è°ˆåˆ¤åœ¨å¼€åŸå¼€å§‹ã€‚ä½†ç¾å›½ä¾ç„¶åœ¨æˆ˜åœºä¸Šä¸æ–­è¯•æ¢ï¼Œå¸Œæœ›é€šè¿‡å†›äº‹å‹åŠ›æ¢å–è°ˆåˆ¤ç­¹ç ã€‚

ä¸­å›½æ€ä¹ˆå›åº”çš„ï¼Ÿ

ç¬¬äº”æ¬¡æˆ˜å½¹ï¼Œæ­¼æ•Œ8.2ä¸‡ã€‚ä¸Šç”˜å²­æˆ˜å½¹ï¼Œ43å¤©æ¿€æˆ˜ï¼Œç¾å†›ä¼¤äº¡2.5ä¸‡ï¼Œä¸­å›½ä¼¤äº¡1.5ä¸‡ã€‚

æ‰“å¾—ç¾å›½å½»åº•è®¤æ¸…ç°å®ï¼šåœ¨æˆ˜åœºä¸Šæ‹¿ä¸åˆ°çš„ä¸œè¥¿ï¼Œè°ˆåˆ¤æ¡Œä¸Šä¹Ÿåˆ«æƒ³æ‹¿åˆ°ã€‚

1953å¹´7æœˆ27æ—¥ï¼Œã€Šæœé²œåœæˆ˜åå®šã€‹ç­¾ç½²ï¼Œæˆ˜çº¿ç¨³å®šåœ¨ä¸‰å…«çº¿é™„è¿‘ã€‚

è¿™ä¸ªæ¡ˆä¾‹è¯´æ˜äº†ä»€ä¹ˆï¼Ÿ

**è°ˆåˆ¤çš„ç­¹ç ï¼Œæ¥è‡ªå®åŠ›ã€‚**

2

å†çœ‹ä¸€ä¸ªå¯¹æ¯”ã€‚

1993å¹´ï¼Œç¾å›½æŒ‡æ§ä¸­å›½"é“¶æ²³å·"è´§è½®è¿è¾“åŒ–å­¦æ­¦å™¨åŸæ–™åˆ°ä¼Šæœ—ã€‚

ç¾å›½æµ·å†›åœ¨å…¬æµ·ä¸Šæ‹¦æˆª"é“¶æ²³å·"ï¼Œè¦æ±‚ç™»èˆ¹æ£€æŸ¥ã€‚

ä¸­å›½å½“æ—¶å®åŠ›æœ‰é™ï¼Œåªèƒ½åŒæ„æ£€æŸ¥ã€‚æœ€ç»ˆç¾å›½ä¸€æ— æ‰€è·ï¼Œä½†è¿™ä¸ªè€»è¾±æ·±æ·±åˆ»åœ¨æ¯ä¸ªä¸­å›½äººå¿ƒé‡Œã€‚

å†çœ‹2016å¹´ï¼Œå—æµ·ä»²è£æ¡ˆã€‚

ç¾å›½æ´¾èˆªæ¯æ¥å—æµ·ç¤ºå¨ï¼Œæƒ³é€šè¿‡å†›äº‹å‹åŠ›é€¼ä¸­å›½è®©æ­¥ã€‚

ä½†è¿™æ¬¡ï¼Œä¸­å›½çš„å›åº”å®Œå…¨ä¸åŒï¼š

"ä¸­å›½åœ¨å—æµ·çš„é¢†åœŸä¸»æƒå’Œæµ·æ´‹æƒç›Šåœ¨ä»»ä½•æƒ…å†µä¸‹ä¸å—æ‰€è°“ä»²è£è£å†³çš„å½±å“ã€‚"

ç¾å›½èˆªæ¯æ¥äº†ï¼Œä¸­å›½ç…§æ ·åœ¨å—æµ·å²›ç¤ä¸Šæ–½å·¥å»ºè®¾ã€‚

æœ€åï¼Œç¾å›½æ‚„æ‚„æ’¤äº†ï¼Œä»²è£æ¡ˆæˆäº†ä¸€å¼ åºŸçº¸ã€‚

20å¤šå¹´æ—¶é—´ï¼Œä¸­å›½çš„åº”å¯¹æ–¹å¼ä¸ºä»€ä¹ˆæˆªç„¶ä¸åŒï¼Ÿ

**å› ä¸ºå®åŠ›å˜äº†ã€‚**

3

å›åˆ°è¿™æ¬¡ä¸­ç¾ç»è´¸ç£‹å•†ã€‚

æœ‰äººæ‹…å¿ƒï¼Œä¸­å›½ä¼šä¸ä¼šè®©æ­¥å¤ªå¤šï¼Ÿä¼šä¸ä¼šé‡è¹ˆå½“å¹´çš„è¦†è¾™ï¼Ÿ

æˆ‘çš„å›ç­”æ˜¯ï¼šä¸ä¼šã€‚

ä¸ºä»€ä¹ˆï¼Ÿ

å› ä¸ºä»Šå¤©çš„ä¸­å›½ï¼Œå·²ç»ä¸æ˜¯40å¹´å‰çš„ä¸­å›½ã€‚

2024å¹´ï¼Œä¸­å›½GDPè¾¾åˆ°126ä¸‡äº¿äººæ°‘å¸ï¼Œæ˜¯ç¾å›½çš„70%ã€‚åˆ¶é€ ä¸šè§„æ¨¡æ˜¯ç¾å›½çš„1.5å€ï¼Œæ˜¯ç¾å›½ã€æ—¥æœ¬ã€å¾·å›½æ€»å’Œã€‚

ä¸­å›½æœ‰å…¨çƒæœ€å®Œæ•´çš„å·¥ä¸šä½“ç³»ï¼Œæœ‰14äº¿äººå£çš„è¶…å¤§å¸‚åœºï¼Œæœ‰æ¯å¹´900ä¸‡å¤§å­¦ç”Ÿçš„äººæ‰å‚¨å¤‡ã€‚

æ›´é‡è¦çš„æ˜¯ï¼Œä¸­å›½æœ‰æˆ˜ç•¥å®šåŠ›ã€‚

ä¸æ˜¯è¯´ä¸­å›½ä¸æƒ³è°ˆï¼Œè€Œæ˜¯ä¸­å›½ä¸æ€•è°ˆå´©ã€‚

**å› ä¸ºæˆ‘ä»¬æœ‰åº•æ°”ã€‚**

å†å²ä¸€æ¬¡æ¬¡è¯æ˜ï¼šå½“ä½ è½¯å¼±æ—¶ï¼Œå¯¹æ‰‹åªä¼šå¾—å¯¸è¿›å°ºï¼›å½“ä½ å¼ºå¤§æ—¶ï¼Œå¯¹æ‰‹æ‰ä¼šå°Šé‡ä½ ã€‚

æœé²œæˆ˜äº‰å¦‚æ­¤ï¼Œå—æµ·å¯¹å³™å¦‚æ­¤ï¼Œè¿™æ¬¡ç»è´¸ç£‹å•†ä¹Ÿå¿…ç„¶å¦‚æ­¤ã€‚

ä¸­å›½ä¼šè°ˆï¼Œä½†ç»ä¸ä¼šä¹æ±‚ã€‚ä¼šå¦¥åï¼Œä½†ç»ä¸ä¼šæŠ•é™ã€‚

å› ä¸ºæˆ‘ä»¬æ—©å°±æ˜ç™½ä¸€ä¸ªé“ç†ï¼š

**è°ˆåˆ¤æ¡Œä¸Šæ‹¿ä¸åˆ°çš„ä¸œè¥¿ï¼Œæˆ˜åœºä¸Šä¹Ÿæ‹¿ä¸åˆ°ï¼›æˆ˜åœºä¸Šæ‹¿ä¸åˆ°çš„ä¸œè¥¿ï¼Œè°ˆåˆ¤æ¡Œä¸Šæ›´æ‹¿ä¸åˆ°ã€‚**

å®åŠ›ï¼Œæ‰æ˜¯å”¯ä¸€çš„é€šè¡Œè¯ã€‚

---

ğŸ’¡ æ–‡ç« åˆ›ä½œå®Œæˆï¼Œå…±2450å­—`
            }
        };

        // åˆ‡æ¢æµç¨‹é¢æ¿
        function toggleProcess() {
            processVisible = !processVisible;
            const sidebar = document.getElementById('processSidebar');
            if (processVisible) {
                sidebar.classList.remove('collapsed');
            } else {
                sidebar.classList.add('collapsed');
            }
        }

        // åˆ‡æ¢é¢„è§ˆé¢æ¿
        function togglePreview() {
            previewVisible = !previewVisible;
            const panel = document.getElementById('previewPanel');
            if (previewVisible) {
                panel.classList.remove('collapsed');
            } else {
                panel.classList.add('collapsed');
            }
        }

        // åˆ‡æ¢æ­¥éª¤å±•å¼€/æ”¶èµ·
        function toggleStep(stepIndex) {
            const step = document.getElementById(`step${stepIndex}`);
            step.classList.toggle('expanded');
        }

        // æ›´æ–°æ­¥éª¤çŠ¶æ€
        function updateStepStatus(stepIndex, status, content) {
            const step = document.getElementById(`step${stepIndex}`);
            const statusSpan = step.querySelector('.process-step-status');
            const previewDiv = step.querySelector('.process-step-preview');

            // ç§»é™¤æ—§çŠ¶æ€
            step.classList.remove('pending', 'active', 'completed');
            statusSpan.classList.remove('pending', 'active', 'completed');

            // æ·»åŠ æ–°çŠ¶æ€
            step.classList.add(status);
            statusSpan.classList.add(status);

            // æ›´æ–°æ–‡å­—
            if (status === 'active') {
                statusSpan.textContent = 'è¿›è¡Œä¸­';
            } else if (status === 'completed') {
                statusSpan.textContent = 'å·²å®Œæˆ';
            } else {
                statusSpan.textContent = 'ç­‰å¾…ä¸­';
            }

            // æ›´æ–°å†…å®¹
            if (content) {
                previewDiv.textContent = content;
                step.classList.add('expanded');
            }
        }

        // æ›´æ–°ç¼–è¾‘å™¨
        function updateEditor(content) {
            const editor = document.getElementById('editor');
            const emptyState = document.getElementById('editorEmpty');

            emptyState.style.display = 'none';
            editor.style.display = 'block';
            editor.value = content;

            updatePreview();
        }

        // æ›´æ–°é¢„è§ˆ
        function updatePreview() {
            const editor = document.getElementById('editor');
            const preview = document.getElementById('preview');
            const content = editor.value;

            // ç®€å•çš„Markdownæ¸²æŸ“
            let html = content
                .replace(/^# (.+)$/gm, '<h1>$1</h1>')
                .replace(/^## (.+)$/gm, '<h2>$1</h2>')
                .replace(/^\*\*æ‘˜è¦:\*\* (.+)$/gm, '<p><strong>æ‘˜è¦:</strong> $1</p>')
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.+?)\*/g, '<em>$1</em>')
                .replace(/^(\d+)$/gm, '<h2 style="text-align: center; color: #999;">$1</h2>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/^(?!<h|<p)(.+)$/gm, '<p>$1</p>');

            preview.innerHTML = html;
        }

        // å¼€å§‹åˆ›ä½œ
        async function startCreation() {
            if (isCreating) return;

            isCreating = true;
            const startBtn = document.getElementById('startBtn');
            startBtn.disabled = true;
            startBtn.innerHTML = '<span>â³</span><span>åˆ›ä½œä¸­...</span>';

            const processStatusText = document.getElementById('processStatusText');
            const editorStatus = document.getElementById('editorStatus');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const loadingText = document.getElementById('loadingText');
            const loadingDesc = document.getElementById('loadingDesc');

            // æ­¥éª¤0: çƒ­ç‚¹ç´ ææœç´¢
            processStatusText.textContent = 'æ­£åœ¨æœç´¢çƒ­ç‚¹ç´ æ...';
            editorStatus.textContent = 'ç´ ææœç´¢ä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨æœç´¢çƒ­ç‚¹ç´ æ...';
            loadingDesc.textContent = 'è°ƒç”¨Coze APIæ·±åº¦è°ƒç ”';
            updateStepStatus(0, 'active');
            await sleep(3000);
            updateStepStatus(0, 'completed', mockData.step0.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤1: é€‰é¢˜åˆ†æ
            processStatusText.textContent = 'æ­£åœ¨åˆ†æé€‰é¢˜ç­–ç•¥...';
            editorStatus.textContent = 'é€‰é¢˜åˆ†æä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨åˆ†æé€‰é¢˜ç­–ç•¥...';
            loadingDesc.textContent = 'TopicAnalyzer åˆ†æä¸­';
            updateStepStatus(1, 'active');
            await sleep(2500);
            updateStepStatus(1, 'completed', mockData.step1.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤2: æ·±åº¦ç´ ææ”¶é›†
            processStatusText.textContent = 'æ­£åœ¨æ”¶é›†æ·±åº¦ç´ æ...';
            editorStatus.textContent = 'ç´ ææ”¶é›†ä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨æ”¶é›†æ·±åº¦ç´ æ...';
            loadingDesc.textContent = 'MaterialHunter æ”¶é›†ä¸­';
            updateStepStatus(2, 'active');
            await sleep(3500);
            updateStepStatus(2, 'completed', mockData.step2.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤3: è§‚ç‚¹ç­–ç•¥è®¾è®¡
            processStatusText.textContent = 'æ­£åœ¨è®¾è®¡è§‚ç‚¹ç­–ç•¥...';
            editorStatus.textContent = 'è§‚ç‚¹è®¾è®¡ä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨è®¾è®¡è§‚ç‚¹ç­–ç•¥...';
            loadingDesc.textContent = 'ViewpointStrategist è®¾è®¡ä¸­';
            updateStepStatus(3, 'active');
            await sleep(2500);
            updateStepStatus(3, 'completed', mockData.step3.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤4: è§‚ç‚¹å¡ç‰‡åˆ›ä½œ
            processStatusText.textContent = 'æ­£åœ¨åˆ›ä½œè§‚ç‚¹å¡ç‰‡...';
            editorStatus.textContent = 'å¡ç‰‡åˆ›ä½œä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨åˆ›ä½œè§‚ç‚¹å¡ç‰‡...';
            loadingDesc.textContent = 'CardCreator åˆ›ä½œä¸­';
            updateStepStatus(4, 'active');
            await sleep(4000);
            updateStepStatus(4, 'completed', mockData.step4.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤5: é£æ ¼å…‹éš†
            processStatusText.textContent = 'æ­£åœ¨è¿›è¡Œé£æ ¼å…‹éš†...';
            editorStatus.textContent = 'é£æ ¼å…‹éš†ä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨è¿›è¡Œé£æ ¼å…‹éš†...';
            loadingDesc.textContent = 'StyleCloner å…‹éš†ä¸­';
            updateStepStatus(5, 'active');
            await sleep(2000);
            updateStepStatus(5, 'completed', mockData.step5.content);
            loadingOverlay.classList.remove('active');

            // æ­¥éª¤6: æ–‡ç« ç»„è£…
            processStatusText.textContent = 'æ­£åœ¨ç»„è£…æœ€ç»ˆæ–‡ç« ...';
            editorStatus.textContent = 'æ–‡ç« ç»„è£…ä¸­';
            loadingOverlay.classList.add('active');
            loadingText.textContent = 'æ­£åœ¨ç»„è£…æœ€ç»ˆæ–‡ç« ...';
            loadingDesc.textContent = 'ArticleWeaver ç»„è£…ä¸­';
            updateStepStatus(6, 'active');
            await sleep(2500);
            updateStepStatus(6, 'completed', mockData.step6.content);
            loadingOverlay.classList.remove('active');

            // å®Œæˆ
            processStatusText.textContent = 'âœ… åˆ›ä½œå®Œæˆï¼';
            editorStatus.textContent = 'åˆ›ä½œå®Œæˆ';
            editorStatus.style.background = '#f6ffed';
            editorStatus.style.color = '#52c41a';

            // æ˜¾ç¤ºæœ€ç»ˆæ–‡ç« 
            updateEditor(mockData.step6.content);

            // æ¢å¤æŒ‰é’®
            startBtn.disabled = false;
            startBtn.innerHTML = '<span>ğŸ”„</span><span>é‡æ–°åˆ›ä½œ</span>';
            isCreating = false;

            alert('ğŸ‰ AIåˆ›ä½œå®Œæˆï¼\n\næœ€ç»ˆæ–‡ç« å·²ç”Ÿæˆåˆ°ç¼–è¾‘åŒºï¼Œä½ å¯ä»¥ç»§ç»­ä¿®æ”¹ç¼–è¾‘ã€‚');
        }

        // è¾…åŠ©å‡½æ•°: å»¶è¿Ÿ
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ç¼–è¾‘å™¨å®æ—¶é¢„è§ˆ
        const editor = document.getElementById('editor');
        editor.addEventListener('input', updatePreview);

        // å†å²è®°å½•åˆ‡æ¢
        document.querySelectorAll('.history-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.history-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });

        console.log('âœ… AIåˆ›ä½œç¼–è¾‘å™¨V5å·²åŠ è½½ - å®Œæ•´æµç¨‹å¯è§†åŒ–');
        console.log('ğŸ’¡ å®Œæ•´åˆ›ä½œæµç¨‹:');
        console.log('1. å·¦ä¾§å†å²é¢æ¿æŸ¥çœ‹å†å²è®°å½•');
        console.log('2. ç‚¹å‡»ä¸­é—´"å¼€å§‹AIåˆ›ä½œ"æŒ‰é’®');
        console.log('3. AIè‡ªåŠ¨æ‰§è¡Œ7ä¸ªæ­¥éª¤ï¼Œå®æ—¶å±•ç¤ºè¿›åº¦');
        console.log('4. æ¯ä¸ªæ­¥éª¤çš„ä¸­é—´äº§ç‰©éƒ½å¯ä»¥ç‚¹å‡»æŸ¥çœ‹');
        console.log('5. æœ€ç»ˆæ–‡ç« ç”Ÿæˆåˆ°ç¼–è¾‘åŒºï¼Œå¯ç»§ç»­ç¼–è¾‘');
        console.log('6. å³ä¾§é¢„è§ˆåŒºå®æ—¶é¢„è§ˆæ’ç‰ˆæ•ˆæœ');
    </script>
</body>
</html>
